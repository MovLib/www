# ----------------------------------------------------------------------------------------------------------------------
# This file is part of {@link https://github.com/MovLib MovLib}.
#
# Copyright © 2013-present {@link http://movlib.org/ MovLib}.
#
# MovLib is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public
# License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
# version.
#
# MovLib is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY# without even the implied warranty
# of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details.
#
# You should have received a copy of the GNU Affero General Public License along with MovLib.
# If not, see {@link http://www.gnu.org/licenses/ gnu.org/licenses}.
# ----------------------------------------------------------------------------------------------------------------------

# ----------------------------------------------------------------------------------------------------------------------
# FastCGI parameter configuration
#
# AUTHOR: Richard Fussenegger <richard@fussenegger.info>
# COPYRIGHT: © 2013-present, MovLib
# LICENSE: http://www.gnu.org/licenses/agpl.html AGPL-3.0
# SINCE: 0.0.1-dev
# ----------------------------------------------------------------------------------------------------------------------

fastcgi_index                 main.php;
fastcgi_intercept_errors      on;
fastcgi_keep_conn             on;
fastcgi_max_temp_file_size    1m;
fastcgi_param                 CONTENT_LENGTH      $content_length;
fastcgi_param                 CONTENT_TYPE        $content_type;
fastcgi_param                 DOCUMENT_ROOT       $document_root;
fastcgi_param                 DOCUMENT_URI        $document_uri;
fastcgi_param                 GATEWAY_INTERFACE   CGI/1.1;
fastcgi_param                 HTTPS               $https if_not_empty;
fastcgi_param                 QUERY_STRING        $query_string;
fastcgi_param                 REDIRECT_STATUS     200;
fastcgi_param                 REMOTE_ADDR         $remote_addr;
fastcgi_param                 REMOTE_PORT         $remote_port;
fastcgi_param                 REMOTE_USER         $remote_user;
fastcgi_param                 REQUEST_METHOD      $request_method;
fastcgi_param                 REQUEST_URI         $request_uri;
fastcgi_param                 SCRIPT_FILENAME     $document_root/main.php;
fastcgi_param                 SCRIPT_NAME         /main.php;
fastcgi_param                 SERVER_ADDR         $server_addr;
fastcgi_param                 SERVER_NAME         $server_name;
fastcgi_param                 SERVER_PORT         $server_port;
fastcgi_param                 SERVER_PROTOCOL     $server_protocol;
fastcgi_param                 SERVER_SOFTWARE     nginx/$nginx_version;
fastcgi_param                 SSL_PROTOCOL        $ssl_protocol;
fastcgi_param                 SSL_CIPHER          $ssl_cipher;
fastcgi_param                 SSL_SESSION_ID      $ssl_session_id;
fastcgi_param                 SSL_CLIENT_VERIFY   $ssl_client_verify;
fastcgi_param                 SSL_PROTOCOL        $ssl_protocol;
fastcgi_param                 SSL_CIPHER          $ssl_cipher;
fastcgi_param                 SSL_SESSION_ID      $ssl_session_id;
fastcgi_param                 SSL_CLIENT_VERIFY   $ssl_client_verify;
fastcgi_pass_request_headers  off;
fastcgi_read_timeout          14400;

# ----------------------------------------------------------------------------------------------------------------------
# Dynamic parameters
# ----------------------------------------------------------------------------------------------------------------------

fastcgi_param                 ACTION              $movlib_action        if_not_empty;
fastcgi_param                 LANGUAGE_CODE       $language_code        if_not_empty;
fastcgi_param                 MOVIE_ID            $movlib_movie_id      if_not_empty;
fastcgi_param                 PERSON_ID           $movlib_person_id     if_not_empty;
fastcgi_param                 PRESENTER           $movlib_presenter     if_not_empty;
fastcgi_param                 USER_ID             $movlib_user_id       if_not_empty;
fastcgi_param                 USER_NAME           $movlib_user_name     if_not_empty;
