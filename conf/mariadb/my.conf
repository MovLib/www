# ----------------------------------------------------------------------------------------------------------------------
# This file is part of {@link https://github.com/MovLib MovLib}.
#
# Copyright © 2013-present {@link https://movlib.org/ MovLib}.
#
# MovLib is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public
# License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later
# version.
#
# MovLib is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY# without even the implied warranty
# of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details.
#
# You should have received a copy of the GNU Affero General Public License along with MovLib.
# If not, see {@link http://www.gnu.org/licenses/ gnu.org/licenses}.
# ----------------------------------------------------------------------------------------------------------------------

# ----------------------------------------------------------------------------------------------------------------------
# Main MariaDB configuration
#
# AUTHOR:     Richard Fussenegger <richard@fussenegger.info>
# COPYRIGHT:  © 2013 MovLib
# LICENSE:    http://www.gnu.org/licenses/agpl.html AGPL-3.0
# LINKE:      https://movlib.org/
# SINCE:      0.0.1-dev
# ----------------------------------------------------------------------------------------------------------------------

[client]
default_character_set             = utf8
socket                            = /var/run/mysqld/mysqld.sock

[mysqld_safe]
log_error                         = /var/log/mysql/error.log
nice                              = 0
skip_syslog                       = 1
socket                            = /var/run/mysqld/mysqld.sock

[mysqld]
basedir                           = /usr
bulk_insert_buffer_size           = 16M
character_set_client_handshake    = 0
character_set_server              = utf8
collation_server                  = utf8_general_ci
concurrent_insert                 = 2
connect_timeout                   = 5
datadir                           = /var/lib/mysql
default_storage_engine            = InnoDB
expire_logs_days                  = 10
innodb_buffer_pool_size           = 256M
innodb_file_format                = Barracuda
innodb_file_per_table             = 1
innodb_flush_method               = O_DIRECT
innodb_io_capacity                = 400
innodb_log_buffer_size            = 8M
innodb_open_files                 = 400
interactive_timeout               = 28800
key_buffer_size                   = 128M
lc_messages                       = en_US
lc_messages_dir                   = /usr/share/mysql
log_bin                           = /var/log/mysql/mariadb-bin
log_bin_index                     = /var/log/mysql/mariadb-bin.index
log_queries_not_using_indexes     = 1
log_slow_rate_limit               = 1000
log_slow_verbosity                = query_plan
log_warnings                      = 2
long_query_time                   = 10
max_allowed_packet                = 16M
max_binlog_size                   = 100M
max_connections                   = 100
max_heap_table_size               = 32M
myisam_recover                    = BACKUP
myisam_sort_buffer_size           = 512M
open-files-limit                  = 2000
pid-file                          = /var/run/mysqld/mysqld.pid
port                              = 3306
query_cache_limit                 = 0
query_cache_limit                 = 128K
query_cache_size                  = 0
query_cache_size                  = 64M
query_cache_type                  = DEMAND
read_buffer_size                  = 2M
read_rnd_buffer_size              = 1M
skip_external_locking             = 1
skip_grant_tables                 = 1
skip_name_resolve                 = 1
skip_networking                   = 1
skip_show_database                = 1
slow_query_log                    = 1
slow_query_log_file               = /var/log/mysql/mariadb-slow.log
socket                            = /var/run/mysqld/mysqld.sock
sort_buffer_size                  = 4M
sql_mode                          = NO_ENGINE_SUBSTITUTION,TRADITIONAL
table_open_cache                  = 400
thread_cache_size                 = 128
tmp_table_size                    = 32M
tmpdir                            = /tmp
user                              = mysql
wait_timeout                      = 28800

[mysqldump]
max_allowed_packet                = 16M
quick                             = 1
quote_names                       = 1

[mysql]
auto_rehash                       = 0

[isamchk]
key_buffer                        = 16M

!includedir /etc/mysql/conf.d/
